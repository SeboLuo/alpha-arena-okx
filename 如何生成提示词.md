# 如何生成提示词 - 快速指南

## 执行步骤

### 1. 打开终端，进入项目目录
```bash
cd /Users/luosibao/Documents/自有项目/alpha-arena-okx
```

### 2. 激活虚拟环境（如果有）
```bash
# 方式1：如果使用venv
source venv/bin/activate

# 方式2：如果没有虚拟环境，直接使用系统Python
# 跳过此步
```

### 3. 确保依赖已安装
```bash
pip install pandas ccxt python-dotenv openai
```

### 4. 确认.env文件配置
确保项目根目录下的 `.env` 文件包含：
```
OKX_API_KEY=your_api_key_here
OKX_SECRET=your_secret_here
OKX_PASSWORD=your_password_here
DEEPSEEK_API_KEY=your_deepseek_key_here
```

### 5. 执行脚本
```bash
python3 -m bot.generate_prompt_from_live_data
```

或者：
```bash
python3 bot/generate_prompt_from_live_data.py
```

## 执行结果

脚本会：
1. ✅ 从OKX获取最新BTC数据
2. ✅ 计算技术指标
3. ✅ 生成提示词
4. ✅ 保存到 `output/prompt_YYYYMMDD_HHMMSS.md`

## 输出文件位置

生成的提示词文件保存在：
```
/Users/luosibao/Documents/自有项目/alpha-arena-okx/output/prompt_20241101_HHMMSS.md
```

文件名包含时间戳，例如：`prompt_20241101_143025.md`

## 可能的问题

### 问题1：缺少依赖包
**错误信息：** `ModuleNotFoundError: No module named 'pandas'`
**解决方法：** 运行 `pip install pandas ccxt python-dotenv openai`

### 问题2：API密钥错误
**错误信息：** `获取数据失败` 或 `Authentication failed`
**解决方法：** 检查 `.env` 文件中的OKX API密钥是否正确

### 问题3：网络问题
**错误信息：** `Connection error` 或超时
**解决方法：** 检查网络连接，确保可以访问OKX API

## 执行示例输出

正常执行时，你会看到类似输出：
```
================================================================================
从实时数据生成提示词
================================================================================

1. 正在从OKX交易所获取最新BTC数据...
✅ 数据获取成功
   - 当前价格: $109,321.50
   - 时间框架: 10m
   - 价格变化: +0.25%

2. 正在转换数据格式...
✅ 数据转换成功
   - 币种: BTC
   - EMA20: 109,423.27
   - MACD: 13.0940
   - RSI7: 42.33
   - 序列数据点数: 10

3. 正在构建提示词...
   ✓ 系统提示词: 9382 字符
   ✓ 用户提示词: 2262 字符

4. 提示词已保存:
   📄 文件路径: /path/to/output/prompt_20241101_143025.md
   📊 总长度: 11,644 字符
```

## 提示

- 脚本会自动创建 `output/` 目录（如果不存在）
- 每次运行都会生成新的文件（带时间戳）
- 文件使用UTF-8编码，可以用任何文本编辑器打开查看

